
$responsive-nav-small: $mobile;
$responsive-nav-big: $tablet-and-up;

//$sidebar-ease: 0.222s cubic-bezier(0.190, 1.000, 0.220, 1.000);
//$sidebar-ease: 0.222s cubic-bezier(0.95, 0.05, 0.795, 0.035); // Ease in expo
$ease-time: 0.222s;
$sidebar-ease: $ease-time ease;
$sidebar-slow-ease: 0.555s ease;

$sidebar-width: 270px;
$sidebar-width: 80vmin;

//$responsive-nav-small: $tablet-and-down;
//$responsive-nav-big: $laptop-and-up;


#responsive-nav {
  overflow:hidden;
}

#sidebar {
  
  position: fixed;
  background-color: #24252d;
  //transform:translateZ(1px);
  overflow:hidden;
  
  @media #{$responsive-nav-small} {
    height: 100%;
    width: #{$sidebar-width + 0.111vmin};
    //left: #{-$sidebar-width - 0.44vmin};
    display: block;
    
    @include smooth-animation;
    transition: transform $sidebar-ease;

    &.slow-transition {
      transition: transform $sidebar-slow-ease;
    }
    &.open {
      @media #{$responsive-nav-small} {
        //transform: translate3d($sidebar-width,0,0);
      }
    }
    &.resizing {
      transition: none;
    }
    
  }
  
  @media #{$responsive-nav-big} {
    width:100%;
    height: $top-menu-height;
    z-index:3;
    -webkit-transform: translateZ(0);
    box-shadow:0 0 5px 8px rgba(0,0,0,0.22);
  }
  
}


#body {
  position:relative;
  
  @media #{$responsive-nav-small} {
    left: 0;
    transition: transform $sidebar-ease;
    box-shadow:0 0 7px 11px rgba(0,0,0,0.22);

    &.slow-transition {
      transition: transform $sidebar-slow-ease;
    }
    &.open {
      @media #{$responsive-nav-small} {
        transform: translate3d($sidebar-width,0,0);
      }
    }
    &.resizing {
      transition: none;
    }
  }
  
  @media #{$responsive-nav-big} {
    padding-top: $top-menu-height;
    z-index:2;
    @include smooth-animation;
  }
  
  // So that sidebar gap won't be white
  background-color: transparent;
  
}

#backboard{
  position:fixed;
  width:100vw;
  height:100vh;
  background-color: #1e1f26;
  text-align: center;
  @media #{$responsive-nav-small} {
    left: 0;
    transition: transform $sidebar-ease;
    //z-index: 1;
    
    &.slow-transition {
      transition: transform $sidebar-slow-ease;
    }
    &.open {
      @media #{$responsive-nav-small} {
        transform: translate3d($sidebar-width,0,0);
      }
    }
    &.resizing {
      transition: none;
    }
  }
  @media #{$responsive-nav-big} {
    display:none;
  }
}

#backboard > .logo {
  @media #{$responsive-nav-small} {
    $logo-w: 265;
    $logo-h: 87;
    $logo-scale: 1;
    @include retina-img("/assets/images/logo-backboard.png", "/assets/images/logo-backboard-2x.png", #{($logo-w*$logo-scale)+"px"}, #{($logo-h*$logo-scale)+"px"} );
    margin-top:22px;
    display: inline-block;
  }
}



$nav-button-color: #3b59f5;
$nav-button-diameter: 50px;

@mixin line {
  display: inline-block;
  width: $nav-button-diameter*0.4;
  height: 3px;
  background: #FFF;
  border-radius: 2px; 
  transition: $ease-time;
}

.nav-btn, .nav-btn:hover {
  position:fixed;
  z-index:1000;
  right:2.5vmin;
  bottom:5vh;
  cursor: pointer;
  user-select: none;
  padding:0;
  width: $nav-button-diameter;
  height: $nav-button-diameter;
  max-width:60px;
  max-height:60px;
  background-color: $nav-button-color;
  border-radius: 50%;
  border:0;
  text-align: center;
  box-shadow:0 7px 7px -2px rgba(0,0,0,0.55);
  &:focus,&:active {
    outline: none !important;
  }
  .lines {
     
    //create middle line
    @include line;
    position: relative; 
    top: -2px;
   
    /*create the upper and lower lines as pseudo-elements of the middle line*/
    &:before, &:after {
     
     @include line;
      position: absolute;
        left:0;
      content: '';
      transform-origin: $nav-button-diameter*0 center;
    }
    &:before { top: 6px; }
    &:after { top: -6px; }
  }
   
  &.nav-arrow.nav-close .lines{
    &:before,
    &:after {
      top: 0;
      left:1px;
      width: $nav-button-diameter*0.25;
    }
   
    &:before { transform: rotate3d(0,0,1,40deg); }
    &:after { transform: rotate3d(0,0,1,-40deg); }
  }
   
  &.nav-cross.nav-close .lines{
    
    background: transparent;
    
    &:before,
    &:after {
      transform-origin: 50% 50%;
      top: 0;
      left: -1px;
      width: $nav-button-diameter*0.44;
    }
   
    &:before{
      transform: rotate3d(0,0,1,45deg); 
    }
    &:after{
      transform: rotate3d(0,0,1,-45deg); 
    }
  }
  
  &.hover {
    background-color: hoverColor($nav-button-color);
  }
  &.press {
    background-color: pressColor($nav-button-color);
  }
  &:active{
    box-shadow:0 4px 4px -2px rgba(0,0,0,0.55);
    transition: 0;
    //transform: translate3d(0,0,0);
  }
}

.waypoint{
  
  // Offset waypoints when top menu is visible
  @media #{$responsive-nav-big} {
    display: block; position: relative; top: -$top-menu-height; visibility: hidden;
  }
  
}


.lighting {
  position: relative;
}
.lighting:before {
  top: 0%;
  left: 0%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
  border-width: 100px 100px 0 0;
  border-color: #FFF transparent transparent transparent;
}
.lighting-sidebar:before {
  @media #{$responsive-nav-small} {
    border-width: 191px 280px 0 0;
    border-color: #282a32 transparent transparent transparent;
  }
  @media #{$responsive-nav-big} {
    border: none;
  }
}
.lighting-logo:before {
  @media #{$responsive-nav-small} {
    border-width: 100px 155px 0 0;
  }
  @media #{$responsive-nav-big} {
    border: none;
  }
  border-color: #88af3b transparent transparent transparent;
}