{"version":3,"sources":["jquery.bubble-slider.js"],"names":["$","BubbleSlider","element","options","bubbleHeight","ref","ref1","ref10","ref11","ref12","ref13","ref14","ref15","ref16","ref17","ref2","ref3","ref4","ref5","ref6","ref7","ref8","ref9","trackHeight","this","hide","min","attr","max","step","value","decimals","data","prefix","postfix","toggleBubble","toggleLimit","bubbleColor","bubbleFontScale","bubbleFontColor","thumbScale","thumbColor","thumbFontScale","thumbFontColor","trackScale","trackColor","parseFloat","removeCommas","slider","addClass","insertAfter","minus","appendTo","plus","track","thumb","bubble","bubbleArrow","prependTo","thumbSpan","find","first","bubbleSpan","css","font-size","border-radius","width","height","Math","round","left","outerWidth","right","outerHeight","margin","dragging","thumbOffset","setValue","positionThumb","toString","length","show","on","_this","event","preventDefault","bubbleState","type","dragThumb","originalEvent","touches","pageX","newValue","window","prototype","maxPosition","minPosition","newPosition","offset","innerWidth","calcValue","trackRatio","normalize","position","modValue","val","addCommas","toFixed","text","thumbRatio","state","stop","fadeIn","fadeOut","number","num","replace","fn","bubbleSlider","defaults","settings","extend","each","jQuery"],"mappings":"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","file":"jquery.bubble-slider.js","sourcesContent":["\n/*!\n * Bubble Slider\n * https://github.com/dahjson/bubble-slider\n * Copyright (c) Daniel Johnson\n */\n(function($) {\n  var BubbleSlider;\n  BubbleSlider = (function() {\n    function BubbleSlider(element, options) {\n      var bubbleHeight, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, trackHeight;\n      this.element = element;\n      this.element.hide();\n      this.min = (ref = this.element.attr('min')) != null ? ref : options.min;\n      this.max = (ref1 = this.element.attr('max')) != null ? ref1 : options.max;\n      this.step = (ref2 = this.element.attr('step')) != null ? ref2 : options.step;\n      this.value = (ref3 = this.element.attr('value')) != null ? ref3 : (options.max - options.min) / 2 + options.min;\n      this.decimals = (ref4 = this.element.data('decimals')) != null ? ref4 : options.decimals;\n      this.prefix = (ref5 = this.element.data('prefix')) != null ? ref5 : options.prefix;\n      this.postfix = (ref6 = this.element.data('postfix')) != null ? ref6 : options.postfix;\n      this.toggleBubble = (ref7 = this.element.data('toggle-bubble')) != null ? ref7 : options.toggleBubble;\n      this.toggleLimit = (ref8 = this.element.data('toggle-limit')) != null ? ref8 : options.toggleLimit;\n      this.bubbleColor = (ref9 = this.element.data('bubble-color')) != null ? ref9 : options.bubbleColor;\n      this.bubbleFontScale = (ref10 = this.element.data('bubble-font-scale')) != null ? ref10 : options.bubbleFontScale;\n      this.bubbleFontColor = (ref11 = this.element.data('bubble-font-color')) != null ? ref11 : options.bubbleFontColor;\n      this.thumbScale = (ref12 = this.element.data('thumb-scale')) != null ? ref12 : options.thumbScale;\n      this.thumbColor = (ref13 = this.element.data('thumb-color')) != null ? ref13 : options.thumbColor;\n      this.thumbFontScale = (ref14 = this.element.data('thumb-font-scale')) != null ? ref14 : options.thumbFontScale;\n      this.thumbFontColor = (ref15 = this.element.data('thumb-font-color')) != null ? ref15 : options.thumbFontColor;\n      this.trackScale = (ref16 = this.element.data('track-scale')) != null ? ref16 : options.trackScale;\n      this.trackColor = (ref17 = this.element.data('track-color')) != null ? ref17 : options.trackColor;\n      this.min = parseFloat(this.removeCommas(this.min));\n      this.max = parseFloat(this.removeCommas(this.max));\n      this.step = parseFloat(this.removeCommas(this.step));\n      this.value = parseFloat(this.removeCommas(this.value));\n      this.decimals = parseFloat(this.removeCommas(this.decimals));\n      this.toggleLimit = parseFloat(this.removeCommas(this.toggleLimit));\n      this.bubbleFontScale = parseFloat(this.removeCommas(this.bubbleFontScale));\n      this.thumbScale = parseFloat(this.removeCommas(this.thumbScale));\n      this.thumbFontScale = parseFloat(this.removeCommas(this.thumbFontScale));\n      this.trackScale = parseFloat(this.removeCommas(this.trackScale));\n      this.slider = $('<div>').addClass('bubble-slider-wrap').insertAfter(this.element);\n      this.minus = $('<div><span>-</span></div>').addClass('bubble-slider-minus').appendTo(this.slider);\n      this.plus = $('<div><span>+</span></div>').addClass('bubble-slider-plus').appendTo(this.slider);\n      this.track = $('<div>').addClass('bubble-slider-track').appendTo(this.slider);\n      this.thumb = $('<div><span>').addClass('bubble-slider-thumb').appendTo(this.track);\n      this.bubble = $('<div><span>').addClass('bubble-slider-bubble').appendTo(this.thumb);\n      this.bubbleArrow = $('<div>').addClass('bubble-slider-bubble-arrow').prependTo(this.bubble);\n      this.thumbSpan = this.thumb.find('span').first();\n      this.bubbleSpan = this.bubble.find('span').first();\n      if (this.bubbleFontScale !== 1) {\n        this.bubble.css({\n          'font-size': parseFloat(this.bubble.css('font-size')) * this.bubbleFontScale + 'px',\n          'border-radius': parseFloat(this.bubble.css('border-radius')) * this.bubbleFontScale + 'px'\n        });\n        this.bubbleArrow.css({\n          'width': parseFloat(this.bubbleArrow.css('width')) * this.bubbleFontScale + 'px',\n          'height': parseFloat(this.bubbleArrow.css('height')) * this.bubbleFontScale + 'px'\n        });\n      }\n      if (this.thumbScale !== 1) {\n        this.thumb.css({\n          'width': parseFloat(this.thumb.css('width')) * this.thumbScale + 'px',\n          'height': parseFloat(this.thumb.css('height')) * this.thumbScale + 'px'\n        });\n      }\n      if (this.thumbFontScale !== 1) {\n        this.thumbSpan.css({\n          'font-size': parseFloat(this.thumbSpan.css('font-size')) * this.thumbFontScale + 'px'\n        });\n      }\n      if (this.trackScale !== 1) {\n        this.minus.css({\n          'width': Math.round(parseFloat(this.minus.css('width')) * this.trackScale) + 'px',\n          'height': Math.round(parseFloat(this.minus.css('height')) * this.trackScale) + 'px',\n          'font-size': Math.round(parseFloat(this.minus.css('font-size')) * this.trackScale) + 'px'\n        });\n        this.plus.css({\n          'width': Math.round(parseFloat(this.plus.css('width')) * this.trackScale) + 'px',\n          'height': Math.round(parseFloat(this.plus.css('height')) * this.trackScale) + 'px',\n          'font-size': Math.round(parseFloat(this.plus.css('font-size')) * this.trackScale) + 'px'\n        });\n        this.track.css({\n          'left': parseFloat(this.minus.outerWidth()) + (this.minus.outerWidth() * 0.2) + 'px',\n          'right': parseFloat(this.plus.outerWidth()) + (this.plus.outerWidth() * 0.2) + 'px'\n        });\n      }\n      if (this.bubbleFontScale !== 1 || this.thumbScale !== 1 || this.trackScale !== 1) {\n        trackHeight = this.thumb.outerHeight() > this.plus.outerHeight() ? this.thumb.outerHeight() : this.plus.outerHeight();\n        bubbleHeight = this.bubble.outerHeight();\n        this.slider.css({\n          'margin': parseFloat(trackHeight) + parseFloat(bubbleHeight) + 'px auto'\n        });\n      }\n      if (this.bubbleColor) {\n        this.bubbleArrow.css('background', this.bubbleColor);\n        this.bubble.css('background', this.bubbleColor);\n      }\n      if (this.bubbleFontColor) {\n        this.bubbleSpan.css('color', this.bubbleFontColor);\n      }\n      if (this.thumbColor) {\n        this.minus.css('color', this.thumbColor);\n        this.plus.css('color', this.thumbColor);\n        this.thumb.css('background', this.thumbColor);\n      }\n      if (this.thumbFontColor) {\n        this.thumbSpan.css('color', this.thumbFontColor);\n      }\n      if (this.trackColor) {\n        this.minus.css('border-color', this.trackColor);\n        this.plus.css('border-color', this.trackColor);\n        this.track.css('background', this.trackColor);\n      }\n      this.dragging = false;\n      this.thumbOffset = this.thumb.outerWidth() / 2;\n      this.setValue(this.value);\n      this.positionThumb(this.value);\n      if (this.toggleBubble && this.value.toString().length <= this.toggleLimit) {\n        this.bubble.hide();\n        this.thumbSpan.show();\n      } else {\n        this.thumbSpan.hide();\n      }\n      this.thumb.css('-ms-touch-action', 'none');\n      this.thumb.on('mousedown touchstart', (function(_this) {\n        return function(event) {\n          if (!_this.dragging) {\n            event.preventDefault();\n            _this.dragging = true;\n            return _this.bubbleState(true);\n          }\n        };\n      })(this));\n      $('html').on('mousemove touchmove', (function(_this) {\n        return function(event) {\n          if (_this.dragging) {\n            event.preventDefault();\n            if (event.type === 'touchmove') {\n              return _this.dragThumb(event.originalEvent.touches[0].pageX);\n            } else {\n              return _this.dragThumb(event.originalEvent.pageX);\n            }\n          }\n        };\n      })(this)).on('mouseup touchend', (function(_this) {\n        return function(event) {\n          if (_this.dragging) {\n            event.preventDefault();\n            _this.dragging = false;\n            return _this.bubbleState(false);\n          }\n        };\n      })(this));\n      this.minus.on('click', (function(_this) {\n        return function(event) {\n          var newValue;\n          event.preventDefault();\n          newValue = _this.value - _this.step;\n          newValue = Math.max(_this.min, newValue);\n          _this.setValue(newValue);\n          return _this.positionThumb(newValue);\n        };\n      })(this));\n      this.plus.on('click', (function(_this) {\n        return function(event) {\n          var newValue;\n          event.preventDefault();\n          newValue = _this.value + _this.step;\n          newValue = Math.min(_this.max, newValue);\n          _this.setValue(newValue);\n          return _this.positionThumb(newValue);\n        };\n      })(this));\n      $(window).on('resize onorientationchange', (function(_this) {\n        return function() {\n          return _this.positionThumb(_this.value);\n        };\n      })(this));\n    }\n\n    BubbleSlider.prototype.dragThumb = function(pageX) {\n      var maxPosition, minPosition, newPosition;\n      minPosition = this.track.offset().left + this.thumbOffset;\n      maxPosition = this.track.offset().left + this.track.innerWidth() - this.thumbOffset;\n      newPosition = Math.max(minPosition, pageX);\n      newPosition = Math.min(maxPosition, newPosition);\n      this.setValue(this.calcValue());\n      return this.thumb.offset({\n        left: newPosition - this.thumbOffset\n      });\n    };\n\n    BubbleSlider.prototype.calcValue = function() {\n      var trackRatio;\n      trackRatio = this.normalize(this.thumb.position().left, 0, this.track.innerWidth() - this.thumbOffset * 2);\n      return trackRatio * (this.max - this.min) + this.min;\n    };\n\n    BubbleSlider.prototype.setValue = function(value) {\n      var modValue;\n      this.value = Math.round((value - this.min) / this.step) * this.step + this.min;\n      this.element.val(this.value);\n      modValue = this.prefix + this.addCommas(this.value.toFixed(this.decimals)) + this.postfix;\n      this.thumbSpan.text(modValue);\n      return this.bubbleSpan.text(modValue);\n    };\n\n    BubbleSlider.prototype.positionThumb = function(value) {\n      var thumbRatio;\n      thumbRatio = this.normalize(value, this.min, this.max);\n      return this.thumb.offset({\n        left: Math.round(thumbRatio * (this.track.innerWidth() - this.thumbOffset * 2) + this.track.offset().left)\n      });\n    };\n\n    BubbleSlider.prototype.bubbleState = function(state) {\n      if (this.toggleBubble) {\n        if (state) {\n          this.bubble.stop(true, true).fadeIn(300);\n          return this.thumbSpan.stop(true, true).fadeOut(200);\n        } else if (this.value.toString().length <= this.toggleLimit) {\n          this.bubble.stop(true, true).fadeOut(300);\n          return this.thumbSpan.stop(true, true).fadeIn(200);\n        }\n      }\n    };\n\n    BubbleSlider.prototype.normalize = function(number, min, max) {\n      return (number - min) / (max - min);\n    };\n\n    BubbleSlider.prototype.addCommas = function(num) {\n      return num.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\n    };\n\n    BubbleSlider.prototype.removeCommas = function(num) {\n      return num.toString().replace(/,/g, '');\n    };\n\n    return BubbleSlider;\n\n  })();\n  $.fn.bubbleSlider = function(options) {\n    var defaults, settings;\n    defaults = {\n      min: 0,\n      max: 100,\n      step: 1,\n      value: 50,\n      decimals: 0,\n      prefix: '',\n      postfix: '',\n      toggleBubble: false,\n      toggleLimit: 3,\n      bubbleColor: '',\n      bubbleFontScale: 1,\n      bubbleFontColor: '',\n      thumbScale: 1,\n      thumbColor: '',\n      thumbFontScale: 1,\n      thumbFontColor: '',\n      trackScale: 1,\n      trackColor: ''\n    };\n    settings = $.extend({}, defaults, $.fn.bubbleSlider.defaults, options);\n    return new BubbleSlider($(this), settings);\n  };\n  return $(function() {\n    return $('.bubble-slider').each(function() {\n      return $(this).bubbleSlider();\n    });\n  });\n})(this.jQuery);\n"],"sourceRoot":"/source/"}